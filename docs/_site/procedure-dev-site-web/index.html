


<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>Terre des jeunes</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Inclusion de jQuery -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" integrity="sha384-tViUnnbYAV00FLIhhi3v/dWt3Jxw4gZQcNoSCxCIFNJVCx7/D55/wXsrNIRANwdD" crossorigin="anonymous">
  <link href="/css/style.css?token=1749843439" rel="stylesheet">
  <link href="/css/my.css?token=1749843439" rel="stylesheet">
  <script>
    // https://stackoverflow.com/questions/9838812
function loadJSON(path, success, error) {
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function()
  {
    if (xhr.readyState === XMLHttpRequest.DONE) {
      if (xhr.status === 200) {
        if (success)
          success(JSON.parse(xhr.responseText));
      } else {
        if (error)
          error(xhr);
      }
    }
  };
  xhr.open("GET", path, true);
  xhr.send();
}

    class TDJ {
  constructor() {
    this._data = null;
    this._callbacks = [];
  }
  static instance() {
    if (!TDJ._instance) {
      TDJ._instance = new TDJ();
    }
    return TDJ._instance;
  }
  dataAvailable() {
    return this._data !== null;
  }
  init() {
    const that = this;
    loadJSON('/api/v2/all.json',
      function(data) {
        that._data = data;
        that._callbacks.forEach(callback => callback(data));
      },
      function(xhr) {
        console.error(xhr);
      },
    );
  }
  getData(callback) {
    if (this.dataAvailable()) {
      callback(this._data);
    }
    else {
      this._callbacks.push(callback);
    }
  }
}

    TDJ.instance().init();
  </script>
</head>

  <body id="section_1">
    
    <header class="site-header">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-12 d-flex flex-wrap">
        <p class="d-flex me-4 mb-0">
        </p>
        <p class="d-flex mb-0">
        </p>
      </div>
      <div class="col-lg-3 col-12 ms-auto d-lg-block d-none ">
        <ul class="social-icon">
          
            
              <li class="social-icon-item">
                <a href="https://www.linkedin.com/company/terre-des-jeunes" class="social-icon-link bi-linkedin"></a>
              </li>
            
          
            
              <li class="social-icon-item">
                <a href="https://www.facebook.com/groups/terredesjeunes/" class="social-icon-link bi-facebook"></a>
              </li>
            
          
            
          
            
          
            
          
          <li class="social-icon-item">
            <a href="/connexion/">Connexion</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</header>
<!-- nav dejaaa -->
<nav class="navbar navbar-expand-lg bg-light shadow-lg">
  <div class="container">
    <!-- Logo + Nom -->
    <a class="navbar-brand d-flex align-items-center my-dark-on-light" href="/">
      <img src="/logo/logo-tdj40-vert-outline-blanc-x-800-355.png" class="logo img-fluid me-2" alt="Logo Terre des jeunes 40 ans">
      <h2 class="fw-bold logo">Terre des jeunes</h2>
    </a>
    <!-- Bouton Toggle (pour mobile) -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>
    <!-- Menu de Navigation -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/40e/">40 ans</a></li>
        <li class="nav-item"><a class="nav-link" href="/a-propos/">À propos</a></li>
        <li class="nav-item"><a class="nav-link click-scroll" href="/#activites">Activités</a></li>
        <li class="nav-item"><a class="nav-link click-scroll" href="/actualites/">Actualités</a></li>

        <li class="nav-item"><a class="nav-link click-scroll" href="/contact/">Contact</a></li>
        <li class="nav-item ms-lg-3">
          <a class="nav-link custom-btn custom-border-btn btn btn-primary" href="/don/">Faire un Don</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

    <main>
      

  
  
  
  

<!-- STARTING TEMPLATE h1_hero.html-->








<section class="news-detail-header-section text-center short-header-section" style="background-image: url(/images/news/medium-shot-volunteers-with-clothing-donations.jpg)">
  <div class="section-overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-12">
        
        <h1 class="text-white">
          <span class="my-header-on-picture-background">
            Procédure de développement local du site web
          </span>
        </h1>
      </div>
    </div>
  </div>
</section>


<!-- ENDING TEMPLATE h1_hero.html-->




  

<!-- STARTING TEMPLATE messages.html-->


<section>
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-12 mettre-alertes-ici">
        
      </div>
    </div>
  </div>
</section>


<!-- ENDING TEMPLATE messages.html-->




  
  

<!-- STARTING TEMPLATE onlytext.html-->




<section class="news-section section-padding">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="news-block-top">
          <div class="news-block-body">
            <h2 id="à-qui-sadresse-cette-page">À qui s’adresse cette page?</h2>

<p>Vous êtes un développeur web qui participe à des modifications au site web version 2025. Vous voulez faire par exemple des modifications au HTML ou au CSS ou Javascript de ce site web.</p>

<h2 id="où-se-trouve-le-site-web">Où se trouve le site web?</h2>

<p>Au moment d’écrire ces lignes, le site web de Terre des jeunes est en processus de refonte.</p>

<p>Le site <strong>pré-2025</strong> se trouve:</p>

<ul>
  <li>Sur GitHub, au <a href="https://github.com/tdjeunes/website">https://github.com/tdjeunes/website</a></li>
  <li>Sur le web, au <a href="https://www.terredesjeunes.org">https://www.terredesjeunes.org</a> (il est prévu que cette version pré-2025 ne soit plus disponible à cette addresse le 5 juin 2025)</li>
</ul>

<p>Le site <strong>post-2025</strong> se trouve:</p>

<ul>
  <li>Sur GitHub, au <a href="https://github.com/alberto56/tdj-comm">https://github.com/alberto56/tdj-comm</a></li>
  <li>Sur le web, au <a href="https://beta.terredesjeunes.org">https://beta.terredesjeunes.org</a></li>
</ul>

<h2 id="vous-voulez-proposer-un-changement-à-cette-page-de-documentation">Vous voulez proposer un changement à cette page de documentation?</h2>

<p>Proposez votre changement au <a href="https://github.com/tdjeunes/website-content/blob/master/docs/jekyll_pages/_posts/2025-03-30-site.md">https://github.com/tdjeunes/website-content/blob/master/docs/jekyll_pages/_posts/2025-03-30-site.md</a>.</p>

<h2 id="prérequis">Prérequis</h2>

<p>Avant de commencer:</p>

<p>(1) ayez une compréhension de base des outils Git, GitHub, Jekyll, et Docker.</p>

<p>(2) installez git sur votre ordinateur en ligne de commande.</p>

<p>(3) vous pouvez optionnellement utiliser GitHub Desktop si vous préférez une interface visuelle. (Les instructions dans cette page sont généralement pour la ligne de commande, donc si vous utilisez GitHub Desktop, vous aurez des adaptations à faire.)</p>

<p>(4) notez que ces instructions ont été testés sur mac OS et Linux. Si vous utilisez Windows, il est possible que vous deviez installer des logiciels tels Putty, Cygwin, ou autre. (Les instructions dans cette page sont pour Linux, donc si vous utilisez Windows, vous aurez des adaptations à faire.)</p>

<p>(5) comprenez le principe d’une <em>branche git</em></p>

<p>(6) comprenez le principe d’une demande de changement, aussi appelé Pull Request, Merge Request, PR, ou MR. (Nous utiliserons le terme PR dans ce document).</p>

<p>(6.1) avoir un compte gratuit GitHub</p>

<p>(7) d’avoir accès en écriture au <a href="https://github.com/alberto56/tdj-comm">https://github.com/alberto56/tdj-comm</a>. Notez que vous aurez accès en écriture à toutes les branches sauf <code class="highlighter-rouge">main</code>. Si vous voulez faire un changement à main, vous devez ouvrir une nouvelle branche, et ouvrir une PR.</p>

<p>(8) installez sur votre ordinateur Docker ou Jekyll (seulement un des deux est nécessaire).</p>

<p>Si vous installez Docker, vous devriez pouvoir rouler cette commande:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run --rm msoap/ascii-art cowsay 'Salut'
</code></pre></div></div>

<p>et vous devriez voir une vache qui dit “Salut”. Si vous n’arrivez pas installer Docker, vous pouvez installer Jekyll.</p>

<p>Si vous installez Jekyll, vous devriez pouvoir rouler cette commande:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll
</code></pre></div></div>

<p>(9) assurez-vous d’avoir accès au <a href="https://github.com/users/alberto56/projects/16/views/1">https://github.com/users/alberto56/projects/16/views/1</a></p>

<h2 id="étape-1-installez-une-version-locale-du-site-sur-la-branche-main">Étape 1: installez une version locale du site sur la branche main</h2>

<p>1.1. Si vous avez le code sur votre ordinateur, passez à l’étape 2, sinon passez à l’étape 1.2.</p>

<p>1.2. Clonez le site sur votre ordinateur</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@github.com:alberto56/tdj-comm.git
cd tdj-comm
</code></pre></div></div>

<p>(À noter qu’il est possible que dans votre cas vous utilisiez “https://github.com/alberto56/tdj-comm.git” plutôt que “git@github.com:alberto56/tdj-comm.git”. Si ça marche, c’est OK.)</p>

<h2 id="étape-2-assurez-vous-davoir-le-bon-répertoire">Étape 2: assurez-vous d’avoir le bon répertoire</h2>

<p>Roulez la commande suivante:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cat .git/config
</code></pre></div></div>

<p>Vous devriez voir quelque chose qui inclut:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[remote "origin"]
  url = git@github.com:alberto56/tdj-comm.git
</code></pre></div></div>

<p>ou encore</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[remote "origin"]
  url = https://github.com/alberto56/tdj-comm.git
</code></pre></div></div>

<p>Si vous utilisez GitHub Desktop, vous pouvez aussi choisir les “Repository Settings” pour le répertoire actuel et vous devriez voir quelque chose comme:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Primary remote repository (origin): git@github.com:alberto56/tdj-comm.git
</code></pre></div></div>

<p>ou encore:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Primary remote repository (origin): https://github.com/alberto56/tdj-comm.git
</code></pre></div></div>

<p>(L’important est que voyiez “alberto56/tdj-comm”. Si vous voyez autre chose, comme par exemple, “CECI-EST-MON-NOM-DUTILISATEUR-GITHUB/tdj-comm”, c’est que vous utiliesz un “fork” du répertoire principal. Cette façon de faire n’est pas recommandée ou supportée par cette documentation; si vous utilisez cette technique, assurez-vous de bien comprendre les concepts de synchronisation de branches entre forks GitHub.)</p>

<h2 id="étape-3-assurez-vous-dêtre-sur-la-branche-main">Étape 3: assurez-vous d’être sur la branche main</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch
</code></pre></div></div>

<p>ceci devrait vous donner:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>main
</code></pre></div></div>

<p>Sinon revenez sur la branche main en faisant:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout main
</code></pre></div></div>

<h2 id="étape-4-assurez-vous-que-votre-code-soit-à-jour-avec-le-code-remote">Étape 4: assurez-vous que votre code soit à jour avec le code remote</h2>

<p>Allez au https://github.com/alberto56/tdj-comm et vous verrez quelque chose comme:</p>

<p><img style="max-width:100%" src="/media/site-web-remote-commit.jpg" /></p>

<p>Dans cet exemple, la dernière version du code sur le remote est:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4b0378f
</code></pre></div></div>

<p>Ensuite rouler ceci localement:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log -n1
</code></pre></div></div>

<p>Vous devriez voir quelque chose comme:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>commit 4b0378fa826df26ae08d2ca3a143c7c06de56fb3 (HEAD -&gt; main, github/main)
</code></pre></div></div>

<p>Le numéro local du commit, dans cet exemple, commence par 4b0378f, donc on peut dire que c’est synchronisé avec le répertoire remote.</p>

<h2 id="étape-5-assurez-vous-que-votre-code-est-clean">Étape 5: assurez-vous que votre code est clean</h2>

<p>Votre code local ne devrait avoir aucun changement. Faites ceci:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status
</code></pre></div></div>

<p>Vous devriez voir:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>On branch main
Your branch is up to date with 'github/main'.

nothing to commit, working tree clean
</code></pre></div></div>

<h2 id="étape-6-choisissez-une-tâche-sur-laquelle-travailler">Étape 6: choisissez une tâche sur laquelle travailler</h2>

<p>Allez au <a href="https://github.com/users/alberto56/projects/16/views/1">https://github.com/users/alberto56/projects/16/views/1</a> et trouvez une tâche sur laquelle vous voulez travailler.</p>

<p>Assignez-vous à cette tâche et assurez-vous que cette tâche soit dans la colonne “En cours”.</p>

<p>Notez le <em>numéro de cette tâche</em>, par exemple #71.</p>

<h2 id="étape-7-faites-une-branche-localement">Étape 7: faites une branche localement</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout -b 71
</code></pre></div></div>

<p>(Dans votre cas la branche sera probablement autre chose que 71, c’est un exemple pour fins d’illustration.)</p>

<h2 id="étape-8-lancez-votre-serveur-jekyll">Étape 8: lancez votre serveur Jekyll</h2>

<p>Si vous utilisez Docker, faites:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker compose up
</code></pre></div></div>

<p>Si vous utilisez Jekyll, faites:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll serve --watch --force_polling --verbose
</code></pre></div></div>

<h2 id="étape-9-voyez-le-site-localement">Étape 9: voyez le site localement</h2>

<p>Allez à une de ces addresses:</p>

<ul>
  <li>http://0.0.0.0:4000</li>
  <li>http://127.0.0.1:4000</li>
  <li>http://localhost:4000</li>
</ul>

<p>Vous devriez voir une version locale du site</p>

<h2 id="étape-10-faites-vos-changements">Étape 10: faites vos changements</h2>

<p>Faites votre développement localement: changez le HTML, CSS, Liquid (langage de Jekyll), Javascript, images, etc.</p>

<h2 id="étape-11-ajoutez-vos-nouveaux-documents-et-committez-vos-changements">Étape 11: ajoutez vos nouveaux documents et committez vos changements</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status
git add .
git commit -am 'mes changements'
</code></pre></div></div>

<h2 id="étape-12-poussez-vos-changements-à-github">Étape 12: poussez vos changements à GitHub</h2>

<p>Assurez-vous que tous vos changements locaux soient commités:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status
</code></pre></div></div>

<p>Devrait vous donner:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>On branch 71
nothing to commit, working tree clean
</code></pre></div></div>

<p>(Dans votre cas la branche sera probablement autre chose que 71, c’est un exemple pour fins d’illustration.)</p>

<p>Maintenant poussez votre branche à GitHub:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin 71
</code></pre></div></div>

<p>Ceci devrait vous donner quelque chose comme:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 10 threads
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 299 bytes | 299.00 KiB/s, done.
Total 3 (delta 1), reused 0 (delta 0), pack-reused 0 (from 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
remote:
remote: Create a pull request for 'bla' on GitHub by visiting:
remote:      https://github.com/alberto56/tdj-comm/pull/new/71
remote:
To github.com:alberto56/tdj-comm.git
* [new branch]      71 -&gt; 71
</code></pre></div></div>

<h2 id="étape-13-ouvrez-une-mr-sur-github">Étape 13: ouvrez une MR sur GitHub</h2>

<p>Allez à:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://github.com/alberto56/tdj-comm/pull/new/71
</code></pre></div></div>

<p>Appuez sur “Create Pull Request”</p>

<h2 id="étape-14-préparez-votre-pr-pour-révision">Étape 14: préparez votre PR pour révision</h2>

<ul>
  <li>Allez à https://github.com/alberto56/tdj-comm/pulls</li>
  <li>Trouvez votre PR</li>
  <li>Cliquez dessus</li>
</ul>

<p>Pour préparer votre PR pour révision:</p>

<p>14.1. Il est normal que ça dit “Merging is blocked”. Ceci veut dire que la PR doit être révisée.</p>

<p>14.2. Il doit y avoir un crochet vert et non un x rouge vis-à-vis des tests. Donc ça doit dire “All checks have passed”. Si c’est un x rouge, c’est que vos changements ont introduit une erreur de structure HTML ou autre erreur. Corrigez les erreurs.</p>

<p>14.3. Votre titre doit inclure le numéro de votre tâche, par exemple “#71”</p>

<p>14.4. Votre titre doit être une phrase claire expliquant vos changements, par exemple:</p>

<ul>
  <li>#71 Ajouter une section Pays sur la page d’accueil</li>
  <li>#12345 changer la date du copyright pour que ce soit toujours l’année en cours</li>
</ul>

<p>Voici des exemples à ne pas suivre</p>

<ul>
  <li>#12345 changement à la page d’accueil – ceci est mauvais car ce n’est pas clair <em>quel</em> changement.</li>
  <li>
    <p>changer la date du copyright pour que ce soit toujours l’année en cours – ceci est mauvais car ça en fait pas référence à une tâche</p>

    <p>14.5. aller à l’onglet Files Changed et assurez-vous que tous vos changements sont là, et que seuls vos changements sont là.</p>

    <p>14.6. dans l’onglet principal, conversation, il ne doit pas y avoir des conflits avec la branche main.</p>

    <p>14.7. changez le nom de votre PR pour y ajouter le mot “[PRET]” devant, par exemple:</p>
  </li>
  <li>[PRET] #71 Ajouter une section Pays sur la page d’accueil</li>
</ul>

<h2 id="étape-15-recommencez-avec-une-autre-tâche">Étape 15: Recommencez avec une autre tâche</h2>

<p>Retournez à l’étape 3.</p>

<h2 id="en-cas-de-conflits-inconnus">En cas de conflits inconnus</h2>

<p>Si vous avez quelque chose comme</p>

<p>CONFLICT (content): Merge conflict in docs/index.html
Auto-merging docs/jekyll_blogposts/_posts/2023-01-16-debut_des_activites_relatives_aux_projets_de_jardins_potager.md
CONFLICT (add/add): Merge conflict in docs/jekyll_blogposts/_posts/2023-01-16-debut_des_activites_relatives_aux_projets_de_jardins_potager.md
Auto-merging docs/jekyll_blogposts/_posts/2023-02-22-la_fete_continue.m</p>

<p>Faites</p>

<p>git reset –hard
git clean -df</p>

<p>Et retournez a l’etape 2</p>

<h2 id="bonnes-pratiques">Bonnes pratiques</h2>

<p>BONNE PRATIQUE #1: utilisez toujours le même style d’espacement et de formattage.</p>

<p>Par exemple, si vous utilisez deux espaces pour l’indentation:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div bla-bla&gt;
  &lt;div bla-bla&gt;
    salut
  &lt;/div&gt;
&lt;/div&gt;
</code></pre></div></div>

<p>Vous ne devriez pas changer ça pour utiliser 4 espaces:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div bla-bla&gt;
    &lt;div bla-bla&gt;
        salut
    &lt;/div&gt;
&lt;/div&gt;
</code></pre></div></div>

<p>ou encore modifier la structure de formattage:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div bla-bla&gt;
    &lt;div bla-bla&gt;
        salut&lt;/div&gt;
&lt;/div&gt;
</code></pre></div></div>

<p>Ces deux derniers codes sont valides, mais causeront potentiellement des conflits avec d’autres branches</p>

<p>BONNE PRATIQUE #2: il est mieux de faire plusieurs petites PR plutôt qu’une PR qui fait plusieurs choses</p>

<p>Disons que vous faites une PR pour ajouter des drapeaux des pays, et qu’en même temps vous voulez enlever un bouton “Voir tous les membres”, il peut être tentant de faire ça dans la même PR, toutefois il est toujours mieux de faire plusieurs petits PR qui font une chose chaque,</p>

<ul>
  <li>#71 ajouter les drapeaux des pays et retirer le bouton “Tous les membres”</li>
</ul>

<p>Ceci est OK, mais plus on tente de faire de changements dans une seule PR, plus il y a des risques d’erreurs et de conflits. Il est préférable d’ouvrir une nouvelle tâche pour retirer le bouton “tous les membres” (disons que c’est la tâche #12345) et de faire:</p>

<ul>
  <li>#71 ajouter les drapeaux des pays</li>
  <li>#12345 retirer le bouton “Tous les membres”</li>
</ul>

<p>Car il n’y a pas de lien entre ces deux tâches</p>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- ENDING TEMPLATE onlytext.html-->




  
    </main>
    <!-- footer sections -->
    <!-- footer sections -->
<footer class="site-footer">
  <div class="container">
    <div class="row">
      <!-- Section Logo et Description -->
      <div class="col-lg-4 col-12 mb-4">
        <img src="/images/logo/logotdj_blac.png" class="logo img-fluid" alt="Logo Terre des Jeunes">
        <p class="text-white mt-3">Nous sommes Terre des Jeunes, un organisation sans but lucratif visant à sensibiliser les jeunes du monde entier à la sauvegarde de l'environnement et à la gestion locale ou régionale du patrimoine naturel et culturel, par et pour les jeunes eux-mêmes.</p>
      </div>
      <!-- Section Liens Directs -->
      <div class="col-lg-4 col-md-6 col-12 mb-4">
        <h5 class="site-footer-title mb-3 text-white">Liens Directs</h5>
        <ul class="footer-menu list-unstyled">
          
          <li class="footer-menu-item"><a href="/#activites" class="footer-menu-link text-white">Causes</a></li>
          
          <li class="footer-menu-item"><a href="/a-propos/historique/" class="footer-menu-link text-white">Historique</a></li>
          
          <li class="footer-menu-item"><a href="/mots-du-president/" class="footer-menu-link text-white">Mots du Président</a></li>
          
          <li class="footer-menu-item"><a href="/actualites/" class="footer-menu-link text-white">Actualités</a></li>
          
          <li class="footer-menu-item"><a href="/guide-style/" class="footer-menu-link text-white">Guide de style et logo</a></li>
          
          <li class="footer-menu-item"><a href="/statuts/" class="footer-menu-link text-white">Statuts</a></li>
          
          <li class="footer-menu-item"><a href="/contact/" class="footer-menu-link text-white">Contactez-nous</a></li>
          
          <li class="footer-menu-item"><a href="/admin/status/" class="footer-menu-link text-white">Statut technique</a></li>
          
          <li class="footer-menu-item"><a href="/formations/ressources/" class="footer-menu-link text-white">Ressources pour les formations</a></li>
          
          <li class="footer-menu-item"><a href="/lancer-une-antenne.html" class="footer-menu-link text-white">Lancer une antenne</a></li>
          
          <li class="footer-menu-item"><a href="/archives/" class="footer-menu-link text-white">Archives</a></li>
          
        </ul>
      </div>
      <!-- Section Réseaux Sociaux -->
      <div class="col-lg-4 col-md-6 col-12 mb-4">
        <h5 class="site-footer-title mb-3 text-white">Suivez-nous</h5>
        <ul class="social-icon list-unstyled d-flex justify-content-center">
          
          
          <li class="social-icon-item me-3">
            <a href="https://www.linkedin.com/company/terre-des-jeunes" class="social-icon-link bi-linkedin text-white"></a>
          </li>
          
          
          
          <li class="social-icon-item me-3">
            <a href="https://www.facebook.com/groups/terredesjeunes/" class="social-icon-link bi-facebook text-white"></a>
          </li>
          
          
          
          
          
          
          
          
        </ul>
      </div>
    </div>
  </div>
  <!-- Footer Bottom -->
  <div class="site-footer-bottom py-3">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <p class="text-white mb-0">&copy; 2025 Terre des Jeunes. Tous droits réservés. Modifier <a href="https://github.com/alberto56/tdj-comm/edit/main/docs/jekyll_pages/_posts/2025-03-30-site.md">le code source</a></p>
        </div>
      </div>
    </div>
  </div>
</footer>


<!-- JAVASCRIPT FILES -->
<script src="/js/jquery.sticky.js"></script>
<script src="/js/counter.js"></script>
<script src="/js/custom.js"></script>
<script>
  // we will store the image optmization map file json data in globalMappingData variable. Later we can access
  // globalMappingData in news block to map the news block images.
  let globalMappingData = null;
  const newsContainer = document.getElementById("newsContainer"); // Assurez-vous que l'élément existe
  const recentNewsContainer = document.getElementById("recentNewsContainer");
  const countryList = document.getElementById("countryList");

  function loadDefaultNews(defaultArticles) {
    if (!defaultArticles || defaultArticles.length === 0) {
      $('.my-hide-if-no-articles').hide();
      return;
    }

    const newsContainer = document.getElementById("newsContainer"); // Assurez-vous que l'élément existe

    if (!newsContainer) {
      return;
    }

    newsContainer.innerHTML = ""; // Vider le conteneur avant d'ajouter de nouveaux articles

    // Limiter le nombre d'articles affichés
    const articlesToShow = defaultArticles.slice(0, );

    articlesToShow.forEach(article => {
    const newsBlock = document.createElement("div");
    newsBlock.className = "col-lg- col-md-6 col-sm-12 mb-4";
    newsBlock.setAttribute('data-url-for-filtering', article.url);

    // Tronquer le titre à 50 caractères max
    const truncatedTitle = article.title.length > 60 ? article.title.substring(0, 55) + "..." : article.title;

    let lirePlus = '';
    if (typeof article.url !== 'undefined') {
        lirePlus = `<a href="${article.url}" class="custom-btn btn mt-2">Lire plus</a>`;
    }

    let pays = '';
    if (typeof article.pays !== 'undefined') {
        if (article.pays.drapeau && article.pays.pays && article.pays.antenne) {
            pays = `<div class="pays-sur-article">
                <img src="${article.pays.drapeau}"
                    alt="${article.pays.pays}"
                    class="img-fluid rounded-circle"
                    style="object-fit: cover;">
                <div class="antenne">${article.pays.antenne}</div>
            </div>`;
        }
    }

    if (typeof article.image == "undefined") {
        article.image = "/images/news/medium-shot-volunteers-with-clothing-donations.jpg";
    }

    let imgSrc = article.image;
    if (globalMappingData && imgSrc.startsWith("/media")) {
      // fetch optimized Image Url for news block images.
      const optimizePath = getOptimizedImageUrl(article.image, "604x400", globalMappingData, "https://images.terredesjeunes.org");
      if (optimizePath != "") {
        imgSrc = optimizePath;
      }
    } else {
      // Optional: wait or retry
      console.warn('Global Mapping data not loaded yet.');
    }

    let objPos = "";
    if (article.position == 'top') {
      objPos = "object-position: top;";
    }

    newsBlock.innerHTML = `
        <div class="card shadow-sm mb-4" style="border: none;">
            <div class="card-body text-center">
                ${pays}
                <h5 class="card-title">${truncatedTitle}</h5>
                <div style="width: 100%; height: 200px; overflow: hidden; display: flex; align-items: center; justify-content: center;">
                    <img src="${imgSrc}" alt="${article.title}" class="img-fluid rounded" data-optimized-size="800x"
                        style="width: 100%; height: 100%; object-fit: cover; ${objPos}">
                </div>
                ${lirePlus}
            </div>
        </div>
    `;

    newsContainer.appendChild(newsBlock);
    });
  }

  // Récupérer les actualités par pays
  async function fetchNewsByCountry(countryName) {
      try {
          const response = await fetch(`${NEWS_API_URL}?q=${encodeURIComponent(countryName)}&apiKey=${API_KEY}`);
          const data = await response.json();

          if (data.articles?.length) {
              displayNews(data.articles);
          } else {
              newsContainer.innerHTML = `<p>Aucune actualité trouvée pour ${countryName}.</p>`;
          }
      } catch (error) {
          console.error(`Erreur lors de la récupération des actualités pour ${countryName}:`, error);
      }
  }

  // Afficher les actualités dans le conteneur principal
  function displayNews(articles) {
      newsContainer.innerHTML = "";
      articles.forEach(article => {
          const newsBlock = document.createElement("div");
          newsBlock.className = "col-lg-6 col-md-6 col-sm-12 mb-4";
          newsBlock.innerHTML = `
      <div class="news-block"  style:"height:30px">
          <img src="${article.urlToImage || 'C:\Users\rodri\OneDrive\Documents\GitHub\TerreDjeunes\images\news'}" alt="${article.title}" class="img-fluid">
          <h4>${article.title}</h4>
          <p>${article.description || "Pas de description disponible."}</p>
          <a href="${article.url}" class="btn btn-primary read-more" target="_blank"><b>Lire plus</b></a>
      </div>
  `;
          newsContainer.appendChild(newsBlock);
      });
  }

  // Gérer les likes et dislikes
  document.querySelectorAll('.like-icon').forEach(icon => {
              icon.addEventListener('click', function () {
                  let likes = parseInt(this.getAttribute('data-likes')) + 1;
                  this.setAttribute('data-likes', likes);
                  this.nextElementSibling.textContent = likes;
              });
          });

          document.querySelectorAll('.dislike-icon').forEach(icon => {
              icon.addEventListener('click', function () {
                  let dislikes = parseInt(this.getAttribute('data-dislikes')) + 1;
                  this.setAttribute('data-dislikes', dislikes);
                  this.nextElementSibling.textContent = dislikes;
              });
          });
</script>
<!-- sections team -->
<script>
  //   team Terre des jeunes

  const teamMembers = [
  { name: "Alice Dupont", role: "Développeuse", image: "images/members/102.png", bio: "Alice est une développeuse passionnée.", social: { facebook: "#", instagram: "#", linkedin: "#" } },
  { name: "Jean Martin", role: "Designer UX/UI", image: "images/members/membercreat.jpg", bio: "Jean conçoit des expériences utilisateurs.", social: { instagram: "#" } },
  { name: "Marie Curie", role: "Scientifique", image: "images/c.jpg", bio: "Marie est une pionnière de la physique nucléaire.", social: { facebook: "#", linkedin: "#" } },
  { name: "Jacques Leblanc", role: "Manager", image: "images/250.jpg", bio: "Jacques excelle en gestion de projets." },
  ];

  function team_reseaux(member) {
    if (!member.reseaux) {
      return '';
    }
    let ret = '<div class="team-social text-center">';
    member.reseaux.forEach(function(social) {
      ret += `<a class="btn btn-square" href="${social.lien}"><i class="bi bi-${social.type}"></i></a>`;
    });
    return ret + '</div>';
  }

  function populateTeamMembers(teamMembers) {
  const teamContainer = document.getElementById('team-members');  /*mettre-membres-ici */
  if (!teamContainer) {
    return;
  }
  teamContainer.innerHTML = `
          <div class="row row-cols-1 row-cols-md-3 row-cols-lg-6 g-4">
              ${teamMembers.map((member, index) => `
                  <div class="col">
                    <a href="${member.url}">
                      <div class="card text-center shadow-sm" style="cursor: pointer; border: none;" onclick="showModal(${index})">
                          <img src="${member.image}" class="card-img-top rounded-circle mx-auto mt-3" alt="${member.name}"
                            style="width: 120px; height: 120px; object-fit: cover;">
                          <div class="card-body">
                              <h5 class="card-title">${member.name}</h5>
                              <p class="card-text text-muted">${member.role}</p>
                              ${team_reseaux(member)}
                          </div>
                      </div>
                    </a>
                  </div>
              `).join('')}
          </div>
      `;
  }
</script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
      const navbarToggler = document.querySelector(".navbar-toggler");
      const navLinks = document.querySelectorAll(".nav-link");

      navLinks.forEach(link => {
          link.addEventListener("click", function () {
              if (navbarToggler.getAttribute("aria-expanded") === "true") {
                  navbarToggler.click(); // Fermer le menu après le clic sur un lien
              }
          });
      });
  });
</script>
<script src="/js/contenu/contenu.js?token=1749843439"></script>
<script>
  const services = new Services();
  $( document ).ready(async function() {
    await services.init({
      membres: {
        callback: function(team) {
          populateTeamMembers(team);
        },
      },
      articles: {
        callback: function(news) {
          loadDefaultNews(news);
        },
        not: typeof _notArticlesOfType == "undefined" ? [] : _notArticlesOfType,
        onlyantenne: typeof _onlyArticlesOfAntenne == "undefined" ? [] : _onlyArticlesOfAntenne,
      }
    });
  });
</script>
<script src="/js/image-mapping.js?token=1749843439"></script>
<script>
  // Event listener to execute loadImages function when the page is fully loaded
  window.addEventListener('load', function() {
    loadImages("https://images.terredesjeunes.org", "https://image-mapping.terredesjeunes.org/mapping-beta-tdj-comm.json");
  })
</script>

  </body>
</html>

